const translations = {
    'hero-titulo': {
        'ca': 'El Teu Futur Comença amb la Decisió Correcta',
        'es': 'Tu Futuro Empieza con la Decisión Correcta',
        'en': 'Your Future Starts with the Right Decision'
    },
    'hero-subtitulo': {
        'ca': 'Et guiem en cada pas: des de la cerca fins a les claus a la teva mà',
        'es': 'Te guiamos en cada paso: desde la búsqueda hasta las llaves en tu mano',
        'en': 'We guide you every step: from search to keys in your hand'
    },
    'hero-boton': {
        'ca': 'Sol·licita la Teva Consulta Gratuïta',
        'es': 'Solicita tu Consulta Gratuita',
        'en': 'Request Your Free Consultation'
    },
    'nav-inicio': {
        'ca': 'Inici',
        'es': 'Inicio',
        'en': 'Home'
    },
    'nav-servicios': {
        'ca': 'Serveis',
        'es': 'Servicios',
        'en': 'Services'
    },
    'nav-proceso': {
        'ca': 'Procés',
        'es': 'Proceso',
        'en': 'Process'
    },
    'nav-contacto': {
        'ca': 'Contacte',
        'es': 'Contacto',
        'en': 'Contact'
    },
    'servicios-titulo': {
        'ca': 'Els Nostres Serveis',
        'es': 'Nuestros Servicios',
        'en': 'Our Services'
    },
    'servicio1-titulo': {
        'ca': 'Assessoria en Compra',
        'es': 'Asesoría en Compra',
        'en': 'Buying Consultancy'
    },
    'servicio1-descripcion': {
        'ca': 'Trobem la propietat perfecta que s\'ajusta a les teves necessitats i pressupost. T\'acompanyem des de la cerca fins a la signatura.',
        'es': 'Encontramos la propiedad perfecta que se ajusta a tus necesidades y presupuesto. Te acompañamos desde la búsqueda hasta la firma.',
        'en': 'We find the perfect property that fits your needs and budget. We accompany you from search to signing.'
    },
    'servicio1-item1': {
        'ca': 'Cerca personalitzada',
        'es': 'Búsqueda personalizada',
        'en': 'Personalized search'
    },
    'servicio1-item2': {
        'ca': 'Valoració d\'immobles',
        'es': 'Valoración de inmuebles',
        'en': 'Property valuation'
    },
    'servicio1-item3': {
        'ca': 'Acompanyament en visites',
        'es': 'Acompañamiento en visitas',
        'en': 'Visit accompaniment'
    },
    'servicio1-item4': {
        'ca': 'Assessorament legal complet',
        'es': 'Asesoramiento legal completo',
        'en': 'Complete legal advice'
    },
    'servicio2-titulo': {
        'ca': 'Assessoria en Venda',
        'es': 'Asesoría en Venta',
        'en': 'Selling Consultancy'
    },
    'servicio2-descripcion': {
        'ca': 'Venem la teva propietat al millor preu i en el menor temps. Màrqueting professional, visites gestionades i tancament garantit.',
        'es': 'Vendemos tu propiedad al mejor precio y en el menor tiempo. Marketing profesional, visitas gestionadas y cierre garantizado.',
        'en': 'We sell your property at the best price in the shortest time. Professional marketing, managed visits and guaranteed closing.'
    },
    'servicio2-item1': {
        'ca': 'Valoració gratuïta',
        'es': 'Valoración gratuita',
        'en': 'Free valuation'
    },
    'servicio2-item2': {
        'ca': 'Màrqueting digital professional',
        'es': 'Marketing digital profesional',
        'en': 'Professional digital marketing'
    },
    'servicio2-item3': {
        'ca': 'Gestió de visites',
        'es': 'Gestión de visitas',
        'en': 'Visit management'
    },
    'servicio2-item4': {
        'ca': 'Negociació experta',
        'es': 'Negociación experta',
        'en': 'Expert negotiation'
    },
    'servicio3-titulo': {
        'ca': 'Assessoria d\'Inversió',
        'es': 'Asesoría de Inversión',
        'en': 'Investment Consultancy'
    },
    'servicio3-descripcion': {
        'ca': 'Identifiquem les millors oportunitats immobiliàries segons els teus objectius. Rendibilitat assegurada amb anàlisi expert.',
        'es': 'Identificamos las mejores oportunidades inmobiliarias según tus objetivos. Rentabilidad asegurada con análisis experto.',
        'en': 'We identify the best real estate opportunities according to your goals. Assured profitability with expert analysis.'
    },
    'servicio3-item1': {
        'ca': 'Anàlisi de rendibilitat',
        'es': 'Análisis de rentabilidad',
        'en': 'Profitability analysis'
    },
    'servicio3-item2': {
        'ca': 'Estudis de mercat',
        'es': 'Estudios de mercado',
        'en': 'Market studies'
    },
    'servicio3-item3': {
        'ca': 'Oportunitats exclusives',
        'es': 'Oportunidades exclusivas',
        'en': 'Exclusive opportunities'
    },
    'servicio3-item4': {
        'ca': 'Finançament hipotecari',
        'es': 'Financiación hipotecaria',
        'en': 'Mortgage financing'
    },
    'proceso-titulo': {
        'ca': 'El Nostre Procés de Treball',
        'es': 'Nuestro Proceso de Trabajo',
        'en': 'Our Work Process'
    },
    'proceso-paso1': {
        'ca': '<strong>Consulta inicial:</strong> Avaluem les teves necessitats i objectius immobiliaris sense compromís',
        'es': '<strong>Consulta inicial:</strong> Evaluamos tus necesidades y objetivos inmobiliarios sin compromiso',
        'en': '<strong>Initial consultation:</strong> We evaluate your needs and real estate goals without commitment'
    },
    'proceso-paso2': {
        'ca': '<strong>Cerca personalitzada:</strong> Seleccionem les millors opcions del mercat segons el teu perfil',
        'es': '<strong>Búsqueda personalizada:</strong> Seleccionamos las mejores opciones del mercado según tu perfil',
        'en': '<strong>Personalized search:</strong> We select the best market options according to your profile'
    },
    'proceso-paso3': {
        'ca': '<strong>Visites guiades:</strong> T\'acompanyem a conèixer cada propietat amb anàlisi detallada',
        'es': '<strong>Visitas guiadas:</strong> Te acompañamos a conocer cada propiedad con análisis detallado',
        'en': '<strong>Guided visits:</strong> We accompany you to view each property with detailed analysis'
    },
    'proceso-paso4': {
        'ca': '<strong>Negociació:</strong> Aconseguim les millors condicions per a tu amb la nostra experiència',
        'es': '<strong>Negociación:</strong> Conseguimos las mejores condiciones para ti con nuestra experiencia',
        'en': '<strong>Negotiation:</strong> We get the best conditions for you with our experience'
    },
    'proceso-paso5': {
        'ca': '<strong>Tancament d\'operació:</strong> Gestionem tota la documentació fins a l\'entrega de claus',
        'es': '<strong>Cierre de operación:</strong> Gestionamos toda la documentación hasta la entrega de llaves',
        'en': '<strong>Operation closing:</strong> We manage all documentation until key delivery'
    },
    'equipo-titulo': {
        'ca': 'El Nostre Equip Professional',
        'es': 'Nuestro Equipo Profesional',
        'en': 'Our Professional Team'
    },
    'testimonios-titulo': {
        'ca': 'El Que Diuen els Nostres Clients',
        'es': 'Lo que Dicen Nuestros Clientes',
        'en': 'What Our Clients Say'
    },
    'testimonio1-texto': {
        'ca': '"Professionals excepcionals. Ens van ajudar a trobar la nostra llar ideal en només 3 setmanes. El procés va ser transparent i sense complicacions."',
        'es': '"Profesionales excepcionales. Nos ayudaron a encontrar nuestro hogar ideal en solo 3 semanas. El proceso fue transparente y sin complicaciones."',
        'en': '"Exceptional professionals. They helped us find our ideal home in just 3 weeks. The process was transparent and hassle-free."'
    },
    'testimonio1-rol': {
        'ca': 'Compradora - Madrid',
        'es': 'Compradora - Madrid',
        'en': 'Buyer - Madrid'
    },
    'testimonio2-texto': {
        'ca': '"Vaig vendre el meu pis en temps rècord i per sobre del preu que esperava. La seva estratègia de màrqueting és impecable."',
        'es': '"Vendí mi piso en tiempo récord y por encima del precio que esperaba. Su estrategia de marketing es impecable."',
        'en': '"I sold my apartment in record time and above the price I expected. Their marketing strategy is impeccable."'
    },
    'testimonio2-rol': {
        'ca': 'Venedor - Barcelona',
        'es': 'Vendedor - Barcelona',
        'en': 'Seller - Barcelona'
    },
    'testimonio3-texto': {
        'ca': '"La millor inversió que he fet. Em van assessorar amb dades reals i ara tinc una cartera immobiliària rendible."',
        'es': '"La mejor inversión que he hecho. Me asesoraron con datos reales y ahora tengo una cartera inmobiliaria rentable."',
        'en': '"The best investment I\'ve made. They advised me with real data and now I have a profitable real estate portfolio."'
    },
    'testimonio3-rol': {
        'ca': 'Inversora - València',
        'es': 'Inversora - Valencia',
        'en': 'Investor - Valencia'
    },
    'cta-titulo': {
        'ca': 'Preparat per Fer el Següent Pas?',
        'es': '¿Listo para Dar el Siguiente Paso?',
        'en': 'Ready to Take the Next Step?'
    },
    'cta-subtitulo': {
        'ca': 'Més de 500 famílies han confiat en nosaltres. La teva tranquil·litat és la nostra prioritat.',
        'es': 'Más de 500 familias han confiado en nosotros. Tu tranquilidad es nuestra prioridad.',
        'en': 'Over 500 families have trusted us. Your peace of mind is our priority.'
    },
    'cta-boton': {
        'ca': 'Agenda la Teva Consulta Gratuïta',
        'es': 'Agenda tu Consulta Gratuita',
        'en': 'Schedule Your Free Consultation'
    },
    'footer-descripcion': {
        'ca': 'La teva assessoria immobiliària de confiança des de 2010',
        'es': 'Tu asesoría inmobiliaria de confianza desde 2010',
        'en': 'Your trusted real estate consultancy since 2010'
    },
    'footer-enlaces': {
        'ca': 'Enllaços Ràpids',
        'es': 'Enlaces Rápidos',
        'en': 'Quick Links'
    },
    'footer-inicio': {
        'ca': 'Inici',
        'es': 'Inicio',
        'en': 'Home'
    },
    'footer-servicios': {
        'ca': 'Serveis',
        'es': 'Servicios',
        'en': 'Services'
    },
    'footer-proceso': {
        'ca': 'Procés',
        'es': 'Proceso',
        'en': 'Process'
    },
    'footer-contacto': {
        'ca': 'Contacte',
        'es': 'Contacto',
        'en': 'Contact'
    },
    'footer-contacto-titulo': {
        'ca': 'Contacte',
        'es': 'Contacto',
        'en': 'Contact'
    },
    'footer-siguenos': {
        'ca': 'Segueix-nos',
        'es': 'Síguenos',
        'en': 'Follow Us'
    },
    'footer-copyright': {
        'ca': '© 2025 Momentum · Tots els drets reservats · Política de Privacitat',
        'es': '© 2025 Momentum · Todos los derechos reservados · Política de Privacidad',
        'en': '© 2025 Momentum · All rights reserved · Privacy Policy'
    }
};

function setLanguage(lang) {
    for (let id in translations) {
        const element = document.getElementById(id);
        if (element && translations[id][lang]) {
            element.innerHTML = translations[id][lang];
        }
    }

    document.querySelectorAll('#selector-idiomas button').forEach(btn => {
        btn.classList.remove('active');
    });
    document.querySelector(`#selector-idiomas button[data-lang="${lang}"]`).classList.add('active');
}

function savePreference(lang) {
    try {
        localStorage.setItem('userLang', lang);
    } catch (e) {
        console.error('Error al guardar preferencia:', e);
    }
}

function loadPreference() {
    let preferredLang;
    try {
        preferredLang = localStorage.getItem('userLang');
    } catch (e) {
        console.error('Error al cargar preferencia:', e);
    }

    if (!preferredLang) {
        preferredLang = 'es';
    }
    setLanguage(preferredLang);
}

document.getElementById('selector-idiomas').addEventListener('click', function (e) {
    if (e.target.tagName === 'BUTTON') {
        const lang = e.target.getAttribute('data-lang');
        setLanguage(lang);
        savePreference(lang);
    }
});

window.onload = loadPreference;